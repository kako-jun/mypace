/* ===========================================
   Theme Variables
   Base 5 colors + derived colors
   =========================================== */
:root {
  /* ===== Base 5 Colors ===== */
  --bg: #f8f8f8;        /* 背景（オフホワイト） */
  --fg: #2d2d2d;        /* 文字（ソフトブラック） */
  --border: #c8c8c8;    /* 枠線（見えやすいグレー） */
  --accent: #5588aa;    /* リンク/アクセント */
  --highlight: #e8b700; /* 強調（いいね等） */

  /* ===== Derived: Surface ===== */
  --surface-primary: var(--bg);
  --surface-secondary: color-mix(in srgb, var(--bg) 92%, var(--fg) 8%);
  --surface-tertiary: color-mix(in srgb, var(--bg) 88%, var(--fg) 12%);
  --surface-fold: color-mix(in srgb, var(--bg) 80%, var(--fg) 20%);
  --surface-hover: color-mix(in srgb, var(--bg) 92%, var(--fg) 8%);
  --surface-backdrop: rgba(0, 0, 0, 0.5);

  /* ===== Derived: Glass (for custom theme overlays) ===== */
  --glass-heavy: color-mix(in srgb, var(--bg) 95%, transparent);
  --glass-medium: color-mix(in srgb, var(--bg) 92%, transparent);
  --glass-light: color-mix(in srgb, var(--bg) 90%, transparent);
  --glass-subtle: color-mix(in srgb, var(--bg) 80%, transparent);

  /* ===== Derived: Text ===== */
  --text-primary: var(--fg);
  --text-secondary: color-mix(in srgb, var(--fg) 80%, var(--bg) 20%);
  --text-muted: color-mix(in srgb, var(--fg) 50%, var(--bg) 50%);
  --text-placeholder: color-mix(in srgb, var(--fg) 35%, var(--bg) 65%);
  --text-timestamp: color-mix(in srgb, var(--fg) 45%, var(--bg) 55%);
  --text-link: var(--accent);
  --text-danger: #c44;

  /* ===== Derived: Border ===== */
  --border-light: color-mix(in srgb, var(--bg) 88%, var(--fg) 12%);
  --border-medium: color-mix(in srgb, var(--bg) 80%, var(--fg) 20%);
  --border-dark: var(--border);
  --border-card: #333;

  /* ===== Derived: Button ===== */
  --btn-primary-bg: var(--fg);
  --btn-primary-text: var(--bg);
  --btn-primary-hover: color-mix(in srgb, var(--fg) 70%, var(--bg) 30%);
  --btn-secondary-bg: var(--bg);
  --btn-secondary-border: var(--border);
  --btn-secondary-text: var(--fg);
  --btn-secondary-hover-bg: color-mix(in srgb, var(--bg) 92%, var(--fg) 8%);
  --btn-cancel-bg: color-mix(in srgb, var(--bg) 88%, var(--fg) 12%);
  --btn-cancel-text: color-mix(in srgb, var(--fg) 60%, var(--bg) 40%);

  /* ===== Derived: Action ===== */
  --action-like: var(--highlight);
  --action-reply: #3498db;
  --action-repost: #2ecc71;
  --action-danger-hover: color-mix(in srgb, var(--bg) 95%, #c44 5%);

  /* ===== Derived: Code ===== */
  --code-bg: color-mix(in srgb, var(--bg) 88%, var(--fg) 12%);
  --code-text: #c7254e;

  /* ===== Fonts ===== */
  --font-sans: 'M PLUS Rounded 1c', -apple-system, BlinkMacSystemFont, sans-serif;
  --font-mono: 'BIZ UDGothic', 'SF Mono', 'Menlo', 'Consolas', ui-monospace, monospace;
}

/* ===========================================
   Dark Theme - Override base 5 only
   =========================================== */
.dark,
[data-theme="dark"] {
  /* ===== Base 5 Colors ===== */
  --bg: #282828;        /* 背景（少し明るめのダーク） */
  --fg: #e4e4e4;        /* 文字（ソフトホワイト） */
  --border: #505050;    /* 枠線（コントラスト確保） */
  --accent: #6699bb;    /* リンク/アクセント */
  --highlight: #f0c020; /* 強調（いいね等） */

  /* ===== Derived: Surface ===== */
  --surface-primary: var(--bg);
  --surface-secondary: color-mix(in srgb, var(--bg) 92%, var(--fg) 8%);
  --surface-tertiary: color-mix(in srgb, var(--bg) 88%, var(--fg) 12%);
  --surface-fold: color-mix(in srgb, var(--bg) 80%, var(--fg) 20%);
  --surface-hover: color-mix(in srgb, var(--bg) 92%, var(--fg) 8%);
  --surface-backdrop: rgba(0, 0, 0, 0.7);

  /* ===== Derived: Glass (for custom theme overlays) ===== */
  --glass-heavy: color-mix(in srgb, var(--bg) 95%, transparent);
  --glass-medium: color-mix(in srgb, var(--bg) 92%, transparent);
  --glass-light: color-mix(in srgb, var(--bg) 90%, transparent);
  --glass-subtle: color-mix(in srgb, var(--bg) 80%, transparent);

  /* ===== Derived: Text ===== */
  --text-primary: var(--fg);
  --text-secondary: color-mix(in srgb, var(--fg) 80%, var(--bg) 20%);
  --text-muted: color-mix(in srgb, var(--fg) 50%, var(--bg) 50%);
  --text-placeholder: color-mix(in srgb, var(--fg) 35%, var(--bg) 65%);
  --text-timestamp: color-mix(in srgb, var(--fg) 45%, var(--bg) 55%);
  --text-danger: #c44;

  /* ===== Derived: Border ===== */
  --border-light: color-mix(in srgb, var(--bg) 88%, var(--fg) 12%);
  --border-medium: color-mix(in srgb, var(--bg) 80%, var(--fg) 20%);
  --border-dark: var(--border);
  --border-card: var(--border);

  /* ===== Derived: Button ===== */
  --btn-primary-bg: var(--fg);
  --btn-primary-text: var(--bg);
  --btn-primary-hover: color-mix(in srgb, var(--fg) 70%, var(--bg) 30%);
  --btn-secondary-bg: var(--bg);
  --btn-secondary-border: var(--border);
  --btn-secondary-text: var(--fg);
  --btn-secondary-hover-bg: color-mix(in srgb, var(--bg) 92%, var(--fg) 8%);
  --btn-cancel-bg: color-mix(in srgb, var(--bg) 88%, var(--fg) 12%);
  --btn-cancel-text: color-mix(in srgb, var(--fg) 60%, var(--bg) 40%);

  /* ===== Derived: Action ===== */
  --action-like: var(--highlight);
  --action-reply: #3498db;
  --action-repost: #2ecc71;
  --action-danger-hover: rgba(200, 68, 68, 0.15);

  /* ===== Derived: Code ===== */
  --code-bg: color-mix(in srgb, var(--bg) 88%, var(--fg) 12%);
  --code-text: #e0e0e0;

  color-scheme: dark;
}
