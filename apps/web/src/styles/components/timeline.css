/* ===========================================
   Timeline Layout
   =========================================== */

/* Timeline - CSS columns masonry layout */
.timeline {
  column-width: 560px;
  column-gap: 1rem;
  padding-bottom: 150px;
  direction: rtl;
}

.timeline .post-card {
  break-inside: avoid;
  margin-bottom: 1rem;
  direction: ltr;
  overflow: hidden;
}

/* Timeline Action Wrapper - layout for timeline buttons */
.timeline-action-wrapper {
  column-span: all;
  break-inside: avoid;
  direction: ltr;
  margin: 1rem 0;
  text-align: center;
}

.timeline-action-wrapper .btn {
  --btn-corner: 24px;
  width: 100%;
}

/* End of timeline message - same size as load-more-button */
.timeline-end {
  --btn-corner: 24px;
  column-span: all;
  direction: ltr;
  width: 100%;
  padding: 1.25rem 1.5rem;
  margin-top: 1.5rem;
  background: var(--surface-secondary);
  color: var(--text-muted);
  font-size: 1.1rem;
  font-weight: 700;
  letter-spacing: 0.02em;
  text-align: center;
  position: relative;
  clip-path: polygon(
    var(--btn-corner) 0,
    calc(100% - var(--btn-corner)) 0,
    100% var(--btn-corner),
    100% calc(100% - var(--btn-corner)),
    calc(100% - var(--btn-corner)) 100%,
    var(--btn-corner) 100%,
    0 calc(100% - var(--btn-corner)),
    0 var(--btn-corner)
  );
}

/* Octagonal dashed border using pseudo-element */
.timeline-end::before {
  content: '';
  position: absolute;
  inset: 0;
  background: var(--border-light);
  clip-path: polygon(
    var(--btn-corner) 0,
    calc(100% - var(--btn-corner)) 0,
    100% var(--btn-corner),
    100% calc(100% - var(--btn-corner)),
    calc(100% - var(--btn-corner)) 100%,
    var(--btn-corner) 100%,
    0 calc(100% - var(--btn-corner)),
    0 var(--btn-corner)
  );
  z-index: -2;
}

.timeline-end::after {
  content: '';
  position: absolute;
  inset: 2px;
  background: var(--surface-secondary);
  clip-path: polygon(
    calc(var(--btn-corner) - 1px) 0,
    calc(100% - var(--btn-corner) + 1px) 0,
    100% calc(var(--btn-corner) - 1px),
    100% calc(100% - var(--btn-corner) + 1px),
    calc(100% - var(--btn-corner) + 1px) 100%,
    calc(var(--btn-corner) - 1px) 100%,
    0 calc(100% - var(--btn-corner) + 1px),
    0 calc(var(--btn-corner) - 1px)
  );
  z-index: -1;
}
